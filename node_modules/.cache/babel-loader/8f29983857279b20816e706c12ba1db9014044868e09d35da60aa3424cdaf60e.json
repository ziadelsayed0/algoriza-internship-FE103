{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-657094ba\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"mx-auto w-[27.8vw] font-SFProDisplay mt-24\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center text-[28px] font-semibold mb-10\"\n}, \" Sign in \", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"mb-5\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\",\n  class: \"block font-medium text-sm\"\n}, \"Email address\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"password\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\",\n  class: \"block font-medium text-sm\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"bg-lightBlue px-4 py-2 text-center rounded-md text-white w-full\"\n}, \" Sign in \", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"text-xs text-red-600 font-SFProDisplay\"\n};\nconst _hoisted_9 = {\n  class: \"block text-center mt-5 text-[#4f4f4f] text-base\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.logInHandler && $setup.logInHandler(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"w-full\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.email = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.email]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"w-full mb-5\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]]), _createCommentVNode(\" <span><img src=\\\"../../assets/password.png\\\" /></span> \")]), _createElementVNode(\"div\", null, [_hoisted_7, _createElementVNode(\"p\", _hoisted_8, _toDisplayString($setup.signInError), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"p\", null, [_createTextVNode(\" Don't have an account? \"), _createVNode(_component_router_link, {\n    class: \"text-lightBlue\",\n    to: {\n      name: 'register',\n      path: '/register'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Register \")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"p\", null, _toDisplayString(($setup.email, $setup.password)), 1 /* TEXT */)])], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$setup","logInHandler","_hoisted_3","_hoisted_4","type","email","$event","_hoisted_5","_hoisted_6","password","_createCommentVNode","_hoisted_7","_hoisted_8","_toDisplayString","signInError","_hoisted_9","_createVNode","_component_router_link","to","name","path"],"sources":["C:\\Users\\AFRAAD-PC1\\Desktop\\Zoz\\algoriza-internship-FE103\\src\\components\\Login\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"mx-auto w-[27.8vw] font-SFProDisplay mt-24\">\r\n    <h1 class=\"text-center text-[28px] font-semibold mb-10\">\r\n      Sign in\r\n    </h1>\r\n    <form @submit.prevent=\"logInHandler\">\r\n      <div class=\"mb-5\">\r\n        <label for=\"\" class=\"block font-medium text-sm\"\r\n          >Email address</label\r\n        >\r\n        <input\r\n          type=\"email\"\r\n          class=\"w-full\"\r\n          v-model=\"email\"\r\n        />\r\n      </div>\r\n      <div class=\"password\">\r\n        <label for=\"\" class=\"block font-medium text-sm\"\r\n          >Password</label\r\n        >\r\n        <input\r\n          type=\"password\"\r\n          class=\"w-full mb-5\"\r\n          v-model=\"password\"\r\n        />\r\n        <!-- <span><img src=\"../../assets/password.png\" /></span> -->\r\n      </div>\r\n      <div>\r\n        <button\r\n          class=\"bg-lightBlue px-4 py-2 text-center rounded-md text-white w-full\"\r\n        >\r\n          Sign in\r\n        </button>\r\n        <p class=\"text-xs text-red-600 font-SFProDisplay\">\r\n          {{ signInError }}\r\n        </p>\r\n      </div>\r\n      <div\r\n        class=\"block text-center mt-5 text-[#4f4f4f] text-base\"\r\n      >\r\n        <p>\r\n          Don't have an account?\r\n          <router-link\r\n            class=\"text-lightBlue\"\r\n            :to=\"{ name: 'register', path: '/register' }\"\r\n            >Register\r\n          </router-link>\r\n        </p>\r\n        <p>{{ (email, password) }}</p>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport { useUsersStore } from \"../stores/usersStore\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  setup() {\r\n    const email = ref(\"\");\r\n    const password = ref(\"\");\r\n    const signInError = ref(\"\");\r\n    const router = useRouter();\r\n\r\n    async function logInHandler() {\r\n      const usersStore = useUsersStore();\r\n\r\n      // Check if the user exists\r\n      const currentUser = usersStore.checkUserExistence(email.value);\r\n\r\n      if (currentUser) {\r\n        // User exists, check password\r\n        if (currentUser.password === password.value) {\r\n          sessionStorage.setItem(\"loggedIn\", \"true\");\r\n          router.push(\"/\");\r\n        } else {\r\n          signInError.value = \"Wrong Password! Try again.\";\r\n        }\r\n      } else {\r\n        signInError.value =\r\n          \"This email doesn't exist. Please register first.\";\r\n        setTimeout(() => {\r\n          router.push(\"/register\");\r\n        }, 1000);\r\n      }\r\n    }\r\n\r\n    return { email, password, logInHandler, signInError };\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\ninput {\r\n  padding: 11px 12px 12px;\r\n  background: #f2f2f2;\r\n  border-radius: 4px;\r\n}\r\n.password {\r\n  position: relative;\r\n}\r\n.password span {\r\n  right: 15px;\r\n  top: 35px;\r\n  position: absolute;\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAA4C;gEACrDC,mBAAA,CAEK;EAFDD,KAAK,EAAC;AAA6C,GAAC,WAExD;;EAEOA,KAAK,EAAC;AAAM;gEACfC,mBAAA,CAEC;EAFMC,GAAG,EAAC,EAAE;EAACF,KAAK,EAAC;GACjB,eAAa;;EAQbA,KAAK,EAAC;AAAU;gEACnBC,mBAAA,CAEC;EAFMC,GAAG,EAAC,EAAE;EAACF,KAAK,EAAC;GACjB,UAAQ;gEAUXC,mBAAA,CAIS;EAHPD,KAAK,EAAC;AAAiE,GACxE,WAED;;EACGA,KAAK,EAAC;AAAwC;;EAKjDA,KAAK,EAAC;AAAiD;;;uBArC7DG,mBAAA,CAkDM,OAlDNC,UAkDM,GAjDJC,UAEK,EACLJ,mBAAA,CA6CO;IA7CAK,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,MAAA,CAAAC,YAAA,IAAAD,MAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;MACjCR,mBAAA,CASM,OATNW,UASM,GARJC,UAEC,E,gBACDZ,mBAAA,CAIE;IAHAa,IAAI,EAAC,OAAO;IACZd,KAAK,EAAC,QAAQ;+DACLU,MAAA,CAAAK,KAAK,GAAAC,MAAA;iDAALN,MAAA,CAAAK,KAAK,E,KAGlBd,mBAAA,CAUM,OAVNgB,UAUM,GATJC,UAEC,E,gBACDjB,mBAAA,CAIE;IAHAa,IAAI,EAAC,UAAU;IACfd,KAAK,EAAC,aAAa;+DACVU,MAAA,CAAAS,QAAQ,GAAAH,MAAA;iDAARN,MAAA,CAAAS,QAAQ,E,GAEnBC,mBAAA,4DAA6D,C,GAE/DnB,mBAAA,CASM,cARJoB,UAIS,EACTpB,mBAAA,CAEI,KAFJqB,UAEI,EAAAC,gBAAA,CADCb,MAAA,CAAAc,WAAW,iB,GAGlBvB,mBAAA,CAYM,OAZNwB,UAYM,GATJxB,mBAAA,CAOI,Y,iBAPD,0BAED,GAAAyB,YAAA,CAIcC,sBAAA;IAHZ3B,KAAK,EAAC,gBAAgB;IACrB4B,EAAE,EAAE;MAAAC,IAAA;MAAAC,IAAA;IAAA;;sBACJ,MACH,C,iBADG,WACH,E;;QAEF7B,mBAAA,CAA8B,WAAAsB,gBAAA,EAAvBb,MAAA,CAAAK,KAAK,EAAEL,MAAA,CAAAS,QAAQ,kB"},"metadata":{},"sourceType":"module","externalDependencies":[]}